# 数据备份

- 本节贡献者: {{姚家园}}（作者）、{{田冬冬}}（作者）
- 最近更新日期: 2021-10-01
- 预计阅读时间: 5 分钟

---

**备份！备份！备份！**

尽管不经常发生，但电脑随时可能会坏掉或被盗，电脑硬盘也随时可能会出问题，
也可能不小心使用一个命令（如 `rm -r *`）把几个月的工作误删了。所以，备份非常重要，
不进行必要的备份是十分危险的。笔者和一些同行多次体验过数据误删或硬盘损坏
又未备份带来的痛苦。

如果**文件非常重要**，丢失后**恢复难度极大**，或**恢复时间极长**，
强烈推荐备份一下。例如，毕业论文、脚本、代码、电脑配置文件、无法再次获取的数据、
经过长时间处理得到的资料。

:::{warning}
日常科研工作中，电脑硬盘经常进行大量的读写操作，直接影响硬盘的寿命。我们的
经验表明，电脑硬盘的平均寿命大约为 5 年。当然，硬盘的品质和使用情况不同，
其寿命也有所不同。
:::

备份策略简单概括有两种：（1）备份家目录或其部分子目录；（2）全盘备份。

不同备份策略的主要区别在于备份所需的硬盘空间和时间，以及电脑硬盘摔坏带来的损失。
移动硬盘是最常见的备份设备，其特点是携带方便、价格便宜。近几年，移动硬盘发展迅速，
市场上常见的移动硬盘，其存储空间大小有 1 TB 到 5 TB（单价从 300 到 800 块左右），
基本可以满足日常科研的备份需求。一般而言，第一次备份需要较长时间，后续的备份往往
只同步改动过的文件，所需时间较短。考虑以上两点因素以及硬盘摔坏带来的精神和身体上的损失，
我们推荐备份家目录或者至少备份家目录下重要的子目录。有需求的用户可以考虑全盘备份。

有效的文件备份并不是简单的复制和同步文件。复制存储在同一个硬盘中的文件不是备份，硬盘
一旦出现问题所有的文件都可能丢失。和计算机放在一块的移动硬盘可能因为火灾、盗窃等
原因一起丢失。有效备份方案的几个核心特性是：版本控制、删除重复文件、安全性。
对备份实施版本控制保证了用户可以从任何备份过的历史版本中恢复文件。删除源文件中的重复文件，
可以减少存储开销。在安全性方面，应该考虑他人需要什么工具和信息或者发生什么意外
才会完全删除源文件和备份。此外，不要盲目信任备份方案，应该经常检查备份是否可以用来恢复文件。

除了使用移动硬盘备份文件以外，还可以将部分文件同时备份到云端，多一份保障。例如，将程序和脚本等
推送到 [GitHub](https://github.com/) 上，将部分文件同步到网盘（如百度网盘、
OneDrive、Google Drive、Dropbox、iCloud 等）。需要注意，若误删本地文件，
云端可能会同步这些“更改”；一些应用可能有时或永久无法登录，造成云端备份文件暂时或永久性丢失。
因此，最好把云端备份当作本地移动硬盘备份的补充，而不是重要文件的唯一备份。

建议每隔一段时间（如每周）做一次备份。放假前、出差开会前，也建议备份一下。
